# Rocket 開発ロードマップ

各マイルストーンで完動品としてリリース可能な状態を維持します。
後続フェーズの機能追加を妨げないアーキテクチャ設計を心がけます。

## v0.0 - 技術スパイク

**ゴール**: 技術選定と基盤方針の決定（手戻りリスクの最小化）

- [ ] GUI フレームワーク選定
  - [ ] Wails / Fyne / Gio の比較検証
  - [ ] プロトタイプ作成（簡単なウィンドウ表示）
  - [ ] クロスプラットフォームビルド確認
  - [ ] 選定理由のドキュメント化
- [ ] Git バックエンド方針決定
  - [ ] go-git vs git コマンド直接実行の比較
  - [ ] 大規模リポジトリでのパフォーマンス検証
  - [ ] 認証周りの実現可能性確認
  - [ ] 選定理由のドキュメント化
- [ ] プロジェクト構成
  - [ ] ディレクトリ構成の決定
  - [ ] レイヤー分離の方針確定
  - [ ] CI/CD パイプライン雛形

**完動品としての価値**: 技術的な不確実性を解消し、本開発に着手できる状態

---

## v0.1 - MVP（最小動作版）

**ゴール**: 「見る → ステージする → コミットする」の基本ワークフローが完結

- [ ] プロジェクト基盤
  - [ ] Go モジュール初期化
  - [ ] GUI フレームワークセットアップ
  - [ ] Git操作ライブラリ統合
  - [ ] 設定ファイル基盤（~/.config/rocket/）
- [ ] CLI 起動
  - [ ] `rocket .` でカレントディレクトリを開く
  - [ ] `rocket /path/to/repo` で指定パスを開く
  - [ ] 引数なしで最後に開いたリポジトリ or ホーム画面
- [ ] リポジトリ状態表示
  - [ ] 変更ファイル一覧（Untracked / Modified / Staged）
  - [ ] 基本的なファイルツリー表示
- [ ] 差分表示
  - [ ] ファイル選択で差分をインライン表示
  - [ ] 追加/削除行のハイライト
- [ ] ステージング
  - [ ] ファイル単位でステージ/アンステージ
  - [ ] 全ファイル一括ステージ/アンステージ
- [ ] コミット
  - [ ] コミットメッセージ入力（件名 + 本文）
  - [ ] コミット実行
  - [ ] コミット成功/失敗の表示

**完動品としての価値**: ローカルでの基本的なコミット作業ができる

---

## v0.2 - ブランチ操作

**ゴール**: ブランチを使った並行開発ができる

- [ ] ブランチ一覧
  - [ ] ローカルブランチ表示
  - [ ] 現在のブランチをハイライト
- [ ] ブランチ操作
  - [ ] 新規ブランチ作成
  - [ ] ブランチ切り替え（checkout）
  - [ ] ブランチ削除
  - [ ] ブランチ名変更
- [ ] マージ（基本）
  - [ ] 選択ブランチを現在のブランチにマージ
  - [ ] Fast-forward / No-ff 選択
  - [ ] マージ成功/失敗の表示

**完動品としての価値**: feature ブランチでの開発 → main へのマージができる

---

## v0.3 - リモート操作

**ゴール**: チームでの共同開発ができる

- [ ] 認証基盤
  - [ ] Git Credential Helper 連携
  - [ ] ssh-agent 連携
  - [ ] 環境変数からのトークン取得
- [ ] Fetch
  - [ ] リモートから最新情報を取得
  - [ ] フェッチ結果の表示（新規コミット数等）
- [ ] Pull
  - [ ] リモートの変更を取り込み
  - [ ] merge / rebase 選択
- [ ] Push
  - [ ] ローカルの変更をリモートに送信
  - [ ] アップストリーム未設定時の設定
- [ ] リモート管理
  - [ ] リモート一覧表示
  - [ ] リモート追加/編集/削除
- [ ] ブランチ一覧拡張
  - [ ] リモートブランチ表示
  - [ ] リモートブランチからローカル作成

**完動品としての価値**: GitHub/GitLab と連携した開発フローができる

---

## v0.4 - 履歴・ログ

**ゴール**: コミット履歴の確認と調査ができる

- [ ] コミット履歴表示
  - [ ] コミット一覧（ハッシュ、メッセージ、作者、日時）
  - [ ] コミットグラフ（ブランチの分岐・マージを視覚化）
- [ ] コミット詳細
  - [ ] 選択コミットの変更ファイル一覧
  - [ ] 各ファイルの差分表示
- [ ] フィルタリング
  - [ ] 作者で絞り込み
  - [ ] 日付範囲で絞り込み
  - [ ] メッセージ検索
  - [ ] ファイルパスで絞り込み
- [ ] Blame
  - [ ] ファイル選択 → 各行の最終変更コミット表示
  - [ ] 行クリックでコミット詳細へジャンプ
- [ ] ファイル履歴
  - [ ] 特定ファイルの変更履歴一覧

**完動品としての価値**: 「いつ誰が何を変更したか」を追跡できる

---

## v0.5 - ハンク単位ステージング

**ゴール**: 変更をハンク（変更ブロック）単位で選択してコミットできる

- [ ] 差分ビューア改善
  - [ ] サイドバイサイド表示
  - [ ] インライン表示との切り替え
  - [ ] 単語単位の差分ハイライト
- [ ] ハンク単位ステージング
  - [ ] 差分をハンク（変更ブロック）に分割表示
  - [ ] ハンクごとにステージ/アンステージ
- [ ] ハンク単位の破棄
  - [ ] ハンク単位で変更を破棄

**完動品としての価値**: 1ファイル内の複数変更を分けてコミットできる

---

## v0.6 - 行単位ステージング・Amend

**ゴール**: 行単位の細かい操作と直前コミットの修正ができる

- [ ] 行単位ステージング
  - [ ] 行を選択してステージ
  - [ ] 選択範囲のステージ
- [ ] 行単位の破棄
  - [ ] 行を選択して破棄
- [ ] Amend
  - [ ] 直前のコミットを修正
  - [ ] メッセージのみ修正
  - [ ] 変更を追加して修正

**完動品としての価値**: より細かい粒度でのコミット操作ができる

---

## v0.7 - スタッシュ・タグ

**ゴール**: 作業の一時退避とリリース管理ができる

- [ ] スタッシュ
  - [ ] 現在の変更をスタッシュに退避
  - [ ] スタッシュ一覧表示
  - [ ] スタッシュの差分プレビュー
  - [ ] 適用（apply）/ ポップ（pop）
  - [ ] スタッシュ削除
- [ ] タグ
  - [ ] タグ一覧（ローカル/リモート）
  - [ ] 軽量タグ作成
  - [ ] 注釈付きタグ作成
  - [ ] タグ削除
  - [ ] タグへのチェックアウト
- [ ] コミット改善
  - [ ] Co-Author 追加
  - [ ] コミットテンプレート

**完動品としての価値**: 日常的なGit操作の大部分をカバー

---

## v0.8 - コンフリクト検出・基本解決

**ゴール**: マージ時の競合を検出し、基本的な解決ができる

- [ ] コンフリクト検出
  - [ ] マージ時の競合を検出
  - [ ] 競合ファイル一覧表示
  - [ ] 競合マーカーのハイライト
- [ ] 基本解決操作
  - [ ] Ours を採用
  - [ ] Theirs を採用
  - [ ] 両方を採用
  - [ ] 手動編集
- [ ] 解決完了
  - [ ] ファイルを解決済みとしてマーク
  - [ ] マージコミット作成

**完動品としての価値**: 基本的なマージ競合を解決できる

---

## v0.9 - 3ウェイマージビューア・リベース

**ゴール**: 高度なコンフリクト解決とリベースができる

- [ ] 3ウェイマージビューア
  - [ ] Base（共通祖先）表示
  - [ ] Ours（現在のブランチ）表示
  - [ ] Theirs（マージ元）表示
  - [ ] 結果プレビュー
  - [ ] 各パネル間の差分ハイライト
- [ ] リベース対応
  - [ ] 基本リベース
  - [ ] リベース中の競合解決
  - [ ] リベース中止/継続
- [ ] インタラクティブリベース
  - [ ] コミット順序変更
  - [ ] コミットの squash/fixup
  - [ ] コミットの編集/削除

**完動品としての価値**: 複雑な競合も視覚的に解決できる

---

## v0.10 - AI連携（基本）

**ゴール**: AI によるコミット支援ができる

- [ ] LLM CLIアダプター基盤
  - [ ] CLI 自動検出（claude, codex, gh copilot 等）
  - [ ] 設定ファイルでのCLI登録
  - [ ] 統一インターフェースでの呼び出し
- [ ] コミットメッセージ生成
  - [ ] ステージ済み差分から自動生成
  - [ ] Conventional Commits 形式対応
  - [ ] 日本語/英語切り替え
  - [ ] 生成結果の編集・採用
- [ ] 差分サマリー
  - [ ] 変更内容の要約を自然言語で表示
  - [ ] ファイル単位/全体の要約切り替え
- [ ] プライバシー設定
  - [ ] 送信するコード範囲の制限
  - [ ] 機密ファイルの除外パターン
  - [ ] ローカルLLM優先モード

**完動品としての価値**: コミットメッセージ作成の手間を削減

---

## v0.11 - AI連携（レビュー・分析）

**ゴール**: AI による差分の分析とレビュー支援ができる

- [ ] コードレビュー支援
  - [ ] 差分に対するレビューコメント提案
  - [ ] バグ・問題点の指摘
  - [ ] セキュリティリスク検出
- [ ] PRレビュー効率化ビュー
  - [ ] リスクの高い差分を自動ハイライト
  - [ ] 依存パッケージ更新の検出
  - [ ] 公開API変更の検出
  - [ ] ファイル単位の複雑度スコア
- [ ] コンフリクト解決支援
  - [ ] 競合箇所の意図を解析
  - [ ] マージ案の提示
- [ ] PR/MR説明文生成
  - [ ] ブランチ全体の変更から生成
  - [ ] テンプレート対応

**完動品としての価値**: レビュー品質向上と分析の効率化

---

## v0.12 - AI連携（パッチ生成・Human-in-the-loop）

**ゴール**: AI が生成した修正を人が確認して適用できる

- [ ] AIアクション実行（Human-in-the-loop）
  - [ ] レビューコメントから修正パッチ生成
  - [ ] 提案のプレビュー表示
  - [ ] 承認 → 適用のワークフロー
  - [ ] 部分採用機能
- [ ] Issue連携
  - [ ] Issueから実装案を生成
  - [ ] テストコードの生成提案
- [ ] 生成履歴
  - [ ] 過去の生成結果を参照
  - [ ] 生成パターンの学習（将来拡張用）

**完動品としての価値**: AIの提案を安全に取り込める

---

## v0.13 - UI/UX・外部ツール連携

**ゴール**: カスタマイズ性と外部ツールとの連携を強化

- [ ] UI/UX カスタマイズ
  - [ ] ライト/ダークモード
  - [ ] フォント設定
  - [ ] キーバインドカスタマイズ
  - [ ] レイアウトカスタマイズ
- [ ] 外部ツール連携
  - [ ] 外部差分ツール起動
  - [ ] 外部マージツール起動
  - [ ] エディタ連携
  - [ ] ターミナル統合
- [ ] GitHub/GitLab 連携
  - [ ] PR/MR 作成（ブラウザで開く）
  - [ ] Issue 参照リンク
  - [ ] CI/CD 状態表示

**完動品としての価値**: 既存のワークフローに統合できる

---

## v0.14 - 品質安定化・パフォーマンス

**ゴール**: プロダクション品質への到達

- [ ] パフォーマンス最適化
  - [ ] 大規模リポジトリ対応（10万コミット以上）
  - [ ] 差分計算の非同期処理
  - [ ] 履歴の遅延読み込み
  - [ ] メモリ使用量の最適化
- [ ] クロスプラットフォーム
  - [ ] macOS 動作確認・調整
  - [ ] Linux 動作確認・調整
  - [ ] Windows 動作確認・調整
- [ ] CLI 完成
  - [ ] シェル補完（bash/zsh/fish）
  - [ ] クイックアクション（rocket commit, push, pull）
  - [ ] 各種オプション（--new-window, --tab 等）
- [ ] テスト・品質
  - [ ] ユニットテスト整備
  - [ ] E2Eテスト整備
  - [ ] エラーハンドリング見直し

**完動品としての価値**: 安定して日常使いできる品質

---

## v1.0 - 正式リリース

**ゴール**: 一般公開可能な完成版

- [ ] ドキュメント
  - [ ] ユーザーガイド
  - [ ] キーボードショートカット一覧
  - [ ] 設定リファレンス
  - [ ] FAQ / トラブルシューティング
- [ ] 配布
  - [ ] Homebrew formula
  - [ ] Windows インストーラー
  - [ ] Linux パッケージ（deb/rpm/AppImage）
- [ ] リリース準備
  - [ ] ライセンス整備
  - [ ] CHANGELOG
  - [ ] リリースノート

**完動品としての価値**: 誰でもインストールして使い始められる

---

## v1.x - 拡張機能

**ゴール**: パワーユーザー向け機能の追加

- [ ] 高度なGit操作
  - [ ] Cherry-pick
  - [ ] Revert
  - [ ] Reset（Soft/Mixed/Hard）
  - [ ] Reflog
- [ ] サブモジュール
  - [ ] サブモジュール一覧
  - [ ] 追加/更新/削除
- [ ] ワークツリー
  - [ ] ワークツリー一覧
  - [ ] 追加/削除
- [ ] .gitignore テンプレート
  - [ ] github/gitignore から取得
  - [ ] 言語/フレームワーク選択
  - [ ] 複数テンプレート組み合わせ
- [ ] 検索強化
  - [ ] リポジトリ全体のテキスト検索
  - [ ] コミットメッセージ検索
  - [ ] ファイル名検索
- [ ] 署名
  - [ ] GPG署名付きコミット
  - [ ] SSH署名付きコミット
- [ ] その他
  - [ ] Gitconfig GUI編集
  - [ ] 自動fetch
  - [ ] 通知機能
  - [ ] 複数リポジトリのタブ表示

---

## アーキテクチャ方針

拡張性を確保するため、以下の設計方針を採用:

### レイヤー分離

```text
┌─────────────────────────────────┐
│           UI Layer             │  ← GUI フレームワーク依存
├─────────────────────────────────┤
│        Application Layer        │  ← ユースケース・ワークフロー
├─────────────────────────────────┤
│         Domain Layer           │  ← Git操作のビジネスロジック
├─────────────────────────────────┤
│      Infrastructure Layer       │  ← go-git / git コマンド / LLM CLI
└─────────────────────────────────┘
```

### プラグイン機構

- LLM CLIアダプターは設定ファイルで拡張可能
- 外部ツール連携は設定で追加可能
- 将来的にプラグインシステムも検討

### 設定の外部化

- すべての設定は `~/.config/rocket/` に集約
- デフォルト値は組み込み、ユーザー設定で上書き
- 設定変更は再起動不要（ホットリロード）
